# 課題　 --

乱数を使った三冠王の成績シミュレーション（村上が 9 回すべての打席に立ったら、何点取るのか。他の三冠王と比べると、どうなのか。

## ① 課題内容（どんな作品か）

- 選手の過去成績を設定
- ボタンを押すと、乱数が出て、年間成績配列から該当する結果（ヒットとかホームランとか）が返ってくる。その結果を使って、野球を進行。
- 計算は 1 回毎、9 回毎、600 打席毎が可能。
- 結果はローカルストレージに保存可能。ブラウザ更新後も保存データを呼び出すことで途中からできる
- 村上は打率も低いし、三振も多い。ホームランも 130 試合換算なら飛びぬけていないと思ったが、9 回あたり何点とるのかという点では、意外と落合、バースと遜色ない結果だった。

## ② 工夫した点・こだわった点

- 同じ処理をする関数を選手毎に作成していたが、引数を使用することで整理できた
- 600 打席は for で単純に計算が可能だが、9 回（27 アウト）は結果次第で何打席になるか分からないので、while で設定
- オブジェクトに入れている結果を forEach を使って、ローカルストレージとやり取り（記録、呼び出し、削除）

## ③ 難しかった点・次回トライしたいこと(又は機能)

- 変数の使用方法で苦労。前回は同じアウトカウントなどを共有する仕様でそのまま使っていたが、数字の動きがおかしくなり、最終的には選手毎に変数を分離する必要があると気づいた。この調整で、かなり時間を費やした
- if の分岐の簡素化
- 凡打であっても、満塁なら点数が入るが、分岐が多くなりそうなので、見送り。ランナーが何人いるかというカウントではなく、どの塁にいるのかという管理をしておけば、盛り込めたかと思う。
-

## ④ 質問・疑問・感想、シェアしたいこと等なんでも

- [質問]
- [疑問]
- [感想]わずかな CSS も、都度、詰まる。白紙からレイアウトを作るところが、折れそうになる
- [tips]最後にコメントを入れていくときに、処理を振り返ると、間違いに気づくこともあった。
- [参考記事]
  オブジェクトの繰り返し処理
  https://wemo.tech/2109
